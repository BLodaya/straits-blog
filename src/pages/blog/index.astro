---
import BaseLayout from '../../layouts/BaseLayout.astro';

// 1. Use Astro.glob() to get all your markdown posts
const allPosts = await Astro.glob('./posts/*.md');
---
<BaseLayout title="Straits AI Blog">
  <h1 class="text-4xl font-bold text-primary">Straits AI Blog</h1>
  <p class="mt-4 mb-8">Thoughts and ideas on the journey of AI.</p>

  <ul>
    {allPosts.map((post) => (
      <li class="mb-6 bg-white p-6 rounded-lg shadow-md">
        <a href={post.url} class="text-2xl font-bold text-secondary hover:underline">
          {post.frontmatter.title}
        </a>
        <p class="text-gray-600 text-sm mt-1">
          Published on: {new Date(post.frontmatter.pubDate).toLocaleDateString('en-us', { year: 'numeric', month: 'short', day: 'numeric' })}
        </p>
        <p class="mt-2">{post.frontmatter.description}</p>
      </li>
    ))}
  </ul>
</BaseLayout>